<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Compiled and minified CSS -->
    <script src="https://kit.fontawesome.com/2caed610b1.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Gluten:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">


    <title>Pixelect Upload</title>
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar z-depth-0">
        <div class="content">
            <div class="logo">
                <h4>PIXELECT</h4>
            </div>
            <ul class="menu-list">
                <div class="icon cancel-btn">
                    <i class="fas fa-times"></i>
                </div>
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="#" class="dropDown">Create Board</a>
                    <div class="options">
                        <ul>
                            <li>
                                <a href="create.html" style="font-size: 13px; margin: 0; padding-left: 17px;">Create New Board</a>
                            </li>
                            <li>
                                <a href="edit.html" style="font-size: 13px; margin: 0; padding-left: 16.5px;">Edit Existing Board</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="#" class="modal-trigger" data-target="modal-account">Account</a>
                </li>
                <li>
                    <a href="#" id="logout">Logout</a>
                </li>
            </ul>

            <div class="icon menu-btn">
                <i class="fas fa-bars"></i>
            </div>

        </div>
    </nav>

    <!-- ACCOUNT MODAL -->
    <div id="modal-account" class="modal">
        <div class="modal-content center-align">
            <h4>Account details</h4><br />
            <div class="account-details"></div>
        </div>
    </div>

    <div class="banner"></div>
    <div class="about container">

        <div class="title">Pixelect</div>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo impedit atque consequatur! Iusto distinctio temporibus repellendus labore odit adipisci harum ipsa beatae natus, eum eius, hic aperiam odio! Quasi molestias magnam illo voluptatem iusto ipsam blanditiis, tempore cumque reiciendis quaerat vero tenetur, sequi dolores libero voluptas vitae voluptate placeat dolorum modi ipsa nisi repellat facilis aliquam asperiores. Aut nam repellat harum quas saepe dolorum voluptates ratione, itaque consectetur explicabo a facilis rem mollitia maxime repudiandae fuga reprehenderit, odio cum incidunt labore molestiae quis non perferendis ipsam. Illum, in, deserunt. Ipsa.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo impedit atque consequatur! Iusto distinctio temporibus repellendus labore odit adipisci harum ipsa beatae natus, eum eius, hic aperiam odio! Quasi molestias magnam illo voluptatem iusto ipsam blanditiis, tempore cumque reiciendis quaerat vero tenetur, sequi dolores libero voluptas vitae voluptate placeat dolorum modi ipsa nisi repellat facilis aliquam asperiores. Aut nam repellat harum quas saepe dolorum voluptates ratione, itaque consectetur explicabo a facilis rem mollitia maxime repudiandae fuga reprehenderit, odio cum incidunt labore molestiae quis non perferendis ipsam. Illum, in, deserunt. Ipsa.</p><br>
        <div class="title">Examples</div>
        <div class="slideshow-container">

            <div class="mySlides fade">
                <div class="numbertext">1 / 3</div>
                <img src="img/landscape1.jpg" style="width:100%">
                <div class="text">Caption Text</div>
            </div>

            <div class="mySlides fade">
                <div class="numbertext">2 / 3</div>
                <img src="img/lanscape2.jpg" style="width:100%">
                <div class="text">Caption Two</div>
            </div>

            <div class="mySlides fade">
                <div class="numbertext">3 / 3</div>
                <img src="img/lanscape3.jpg" style="width:100%">
                <div class="text">Caption Three</div>
            </div>

            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>

        </div>
        <br>

        <div style="text-align:center">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
        </div>
        <div class="title">Other Info</div>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo impedit atque consequatur! Iusto distinctio temporibus repellendus labore odit adipisci harum ipsa beatae natus, eum eius, hic aperiam odio! Quasi molestias magnam illo voluptatem iusto ipsam blanditiis, tempore cumque reiciendis quaerat vero tenetur, sequi dolores libero voluptas vitae voluptate placeat dolorum modi ipsa nisi repellat facilis aliquam asperiores. Aut nam repellat harum quas saepe dolorum voluptates ratione, itaque consectetur explicabo a facilis rem mollitia maxime repudiandae fuga reprehenderit, odio cum incidunt labore molestiae quis non perferendis ipsam. Illum, in, deserunt. Ipsa.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo impedit atque consequatur! Iusto distinctio temporibus repellendus labore odit adipisci harum ipsa beatae natus, eum eius, hic aperiam odio! Quasi molestias magnam illo voluptatem iusto ipsam blanditiis, tempore cumque reiciendis quaerat vero tenetur, sequi dolores libero voluptas vitae voluptate placeat dolorum modi ipsa nisi repellat facilis aliquam asperiores. Aut nam repellat harum quas saepe dolorum voluptates ratione, itaque consectetur explicabo a facilis rem mollitia maxime repudiandae fuga reprehenderit, odio cum incidunt labore molestiae quis non perferendis ipsam. Illum, in, deserunt. Ipsa.</p>
    </div>

    <script>
        const body = document.querySelector("body");
        const navbar = document.querySelector(".navbar");
        const menu = document.querySelector(".menu-list");
        const menuBtn = document.querySelector(".menu-btn");
        const cancelBtn = document.querySelector(".cancel-btn");

        menuBtn.onclick = () => {
            menu.classList.add("active");
            menuBtn.classList.add("hide");
            cancelBtn.classList.add("show");
            body.classList.add("disabledScroll");
        }
        cancelBtn.onclick = () => {
            menu.classList.remove("active");
            menuBtn.classList.remove("hide");
            cancelBtn.classList.remove("show");
            body.classList.remove("disabledScroll");
        }

        window.onscroll = () => {
            this.scrollY > 10 ? navbar.classList.add("sticky") : navbar.classList.remove("sticky");
        }
    </script>

    <div class="upload_group">
        <progress value="0" max="100" id="uploader" style="width: 400px;">0%</progress>
        <input type="file" value="upload" id="fileButton">
    </div>

    <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-storage.js"></script>


    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDTvLJH6arrdFP4BuXlML-lGlOUFYeFL30",
            authDomain: "pixelect-webapp.firebaseapp.com",
            projectId: "pixelect-webapp",
            storageBucket: "pixelect-webapp.appspot.com",
            messagingSenderId: "845135720370",
            appId: "1:845135720370:web:2636e540234d1c2b9bfeab",
            measurementId: "G-0YZNRTWRQY"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Firebase References
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Update Firestore Settings
        db.settings({
            timestampsInSnapshots: true
        });

        auth.onAuthStateChanged(user => {
            if (user) { // If user returns a value - "user" is all the info
                var uid = user.uid;
                getUID();

                // START OF UPLOAD IMAGES

                // this is to get elements
                var uploader = document.getElementById('uploader');
                var fileButton = document.getElementById('fileButton');

                // "listen" for file selection
                fileButton.addEventListener('change', function(e) {
                    // Get the file
                    var file = e.target.files[0];
                    //var identity = document.getElementById('uid');
                    // Create a storage ref to find file again

                    //need to set myUser as something before using it here IMPORTANT!!
                    var storageRef = firebase.storage().ref(`images/${user.uid}/${file.name}`); // images/uid/pic.png

                    // Upload the file
                    var task = storageRef.put(file);

                    // Update the progress bar
                    task.on('state_changed',

                        function progress(snapshot) {
                            var percentage = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                            uploader.value = percentage;
                        },
                        function error(err) {
                            window.alert('Error');
                        },
                        function complete() {
                            window.alert('Your File was Succesfully Uploaded!')
                        }
                    );
                });
            }
        })
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="scripts/index.js"></script>
</body></html>
